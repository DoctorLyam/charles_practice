<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <title>Charles Trainer</title>
    <script>
        // üí° –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –º–µ–Ω—è–π —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ –Ω—É–∂–Ω—ã–π –∞–¥—Ä–µ—Å
        window.BACKEND_URL = "http://host.docker.internal:8000";
    </script>
</head>
<body>
    <button id="rewriteBtn">–î–ª—è Rewrite</button>
    <button id="mapLocalBtn">–î–ª—è Map Local</button>

    <script>
        const backendBaseUrl = window.BACKEND_URL;

        document.getElementById("rewriteBtn").addEventListener("click", () => {
            const rewriteBody = {
                user: {
                    name: "student",
                    role: "viewer",
                    settings: {
                        notifications: false,
                        theme: "light"
                    }
                }
            };

            fetch(`${backendBaseUrl}/api/user/data`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(rewriteBody)
            });
        });

        document.getElementById("mapLocalBtn").addEventListener("click", () => {
            const mapLocalBody = {
                payload: "original"
            };

            fetch(`${backendBaseUrl}/api/calculate`, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(mapLocalBody)
            });
        });
    </script>
</body>
</html>
